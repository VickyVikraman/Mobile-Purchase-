<div class="seller">
  <div class="cart">
    <a (click)="showCart(cartContent)">
      <svg aria-hidden="true" data-prefix="fas" data-icon="shopping-cart" class="svg-inline--fa fa-shopping-cart fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"></path></svg>
      <span class="cartQty">{{length}}</span>
    </a>
  </div>
    <ul class="allMobiles">
      <li *ngFor="let mobile of mobiles;let i = index" class="mobileDetails">
        <div>
          <ngb-carousel *ngIf="images" [showNavigationArrows]="false" [showNavigationIndicators]="true">
              <ng-template ngbSlide *ngFor="let image of mobile.file"> 
                  <img  [src]="image" class="slideImage" alt="Random slide">
              </ng-template>
          </ngb-carousel>
            <div class="details"  >
              <ul>
                <li>Name : {{mobile.name}}</li>
                <li>Manufacturer : {{mobile.manufacturer}}</li>
                <li>Price : {{mobile.price}}</li>
                <li>For More Details <a style="text-decoration:underline" (click)="showDetails(mobile,mobileContent)">Click here!</a></li>
              </ul>
            </div>
            <!-- <div> -->
              <button class="btn btn-success btn-sm buttonAlign" (click)="addToCartAndBuy(mobile.id,1,i,cartContent)">Buy Now</button>
              <button class="btn btn-primary btn-sm buttonAlign" (click)="addToCart(mobile.id,1,i)">Add to Cart</button>
            <!-- </div> -->
        </div>
      </li>
    </ul>
    <ng-template #mobileContent let-modal>
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">Mobile update</h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
              <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
                      <ngb-carousel *ngIf="images" [showNavigationArrows]="true" [showNavigationIndicators]="true">
                          <ng-template ngbSlide *ngFor="let image of mobile.file"> 
                              <img  [src]="image" class="slideImage" alt="Random slide">
                          </ng-template>
                      </ngb-carousel>                                
                        <div class="details"  (click)="showDetails(mobile,mobileContent)">
                          <ul>
                            <li>Name : {{mobile.name}}</li>
                            <li>Manufacturer : {{mobile.manufacturer}}</li>
                            <li>Operating System : {{mobile.os}}</li>
                            <li>Battery : {{mobile.battery}} mAh</li>
                            <li>RAM : {{mobile.storage.ram}} GB</li>
                            <li>Internal Storage : {{mobile.storage.internal}} GB</li>
                            <li>Expandable Upto : {{mobile.storage.expandable}} GB</li>
                            <li>
                                Dimensions:
                                <ul>
                                  <li>Width : {{mobile.dimension.width}} cm</li>
                                  <li>Depth : {{mobile.dimension.depth}} cm</li>
                                  <li>Height : {{mobile.dimension.height}} cm</li>
                                </ul>
                            </li>
                            <li>Remaining Stock: {{mobile.stock}}</li>
                          </ul>
                    </div>
          </div>
      </ng-template>
      <ng-template #cartContent let-modal>
          <div class="modal-header">
              <h4 class="modal-title" id="modal-basic-title"> Cart Details</h4>
              <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
              <table class="table  table-hover">
                  <thead>
                    <tr>
                      <th>No</th>
                      <th>Name</th>
                      <th>Quantity</th>
                      <th>Price</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let cart of mobilesCart;let i=index">
                      <td>{{i+1}}</td>
                      <td>{{cart.name}} | {{cart.manufacturer}} | {{cart.storage.ram}}GB Ram</td>
                      <td><input type="number" class="form-control col-md-10" min=1 max={{cart.stock}} (keyup)="qtyChange(i,cart.qty)"  [(ngModel)]="cart.qty"/></td>
                      <td>{{cart.qty*cart.price}}</td>
                    </tr>
                  </tbody>
                </table>
          </div>
          <div class="modal-footer">
            <button class="btn btn-warning btn-lg col-md-6" [disabled]="disabled" (click)="checkout()" >Proceed To Checkout</button>
          </div>
        </ng-template>
  </div>